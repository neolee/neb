# Nebuchadnezzar

A project aimed at exploring the true potential of AI agents. It is powered by `pydantic-ai` and use [MAL](https://github.com/neolee/mal.git) to streamline the configuration and integration of applications across various language model services.

## LLM Abstraction Layer (MAL)

For more information, please refer to MAL [README](https://github.com/neolee/mal/blob/main/README.md) file.

## Agents

### PydanticAI Samples

The majority of PydanticAI examples are designed for OpenAI models but have been updated to utilize **MAL**, making them agnostic to the specific model provider. This allows you to use these samples across nearly any large language model that supports an OpenAI-compatible API.

#### Dependencies

``` toml
dependencies = [
    "asyncpg>=0.30.0",
    "devtools>=0.12.2",
    "httpx[socks]>=0.28.1",
    "logfire[asyncpg]>=3.7.1",
    "pydantic-ai[logfire]>=0.0.35",
    "rtoml>=0.12.0",
]
```

Additional technical details:

- The `logfire` integration is entirely optional, though highly recommended. To exclude this integration, simply remove the import of the `instrument` module and the call to `instrument.init()`. Additionally, in a few sample files (`rag.py`, `weather.py`), you should also eliminate any references to `logfire`.
- Several samples (`bank_support.py`, `rag.py`, `sql_gen.py`) require a database connection. I utilize my local `postgresql` server and the `asyncpg` library for asynchronous access (in the agent). You can adjust the connection parameters or data source name (DSN) and database name to suit your environment.

For more information on each sample, refer to the *sample list* section below.

#### Sample List
- `hello.py`: A basic "Hello World" example for agents.
- `stream_hello.py`: An asynchronous version of the classic "Hello World."
- `roulette_wheel.py`: A roulette wheel simulator that demonstrates tool calling and context management within agents.
- `pydantic_model.py`: Integrates Pydantic data validation into agent functionalities.
- `stream_markdown.py`: Uses `rich` to display streamed Markdown output from an agent.
- `stream_whales.py`: Utilizes `rich` to stream and display Pydantic objects generated by an agent.
- `weather.py`: An agent that calls multiple third-party RESTful APIs for weather information.
- `bank_support.py` and `bank_db.py`: A customer support agent demonstrating integration with RDBMS/MIS systems.
- `sql_gen.py`: Demonstrates RDBMS integration through a logging analyzer tool.
- `rag.py`: Implements a basic Retrieval-Augmented Generation (RAG) process using a local embedding model and `pgvector`.
- `chat_app.*`: A simple chat application built with FastAPI, storing chat history in a SQLite database.
- `question_graph.py`: Allows asking and evaluating agents through the generation of Mermaid graphs.

### Reusable Agents

*TBD*
